<div id="<%= dom_id(task) %>" class="bg-white rounded-lg shadow p-6 mb-4">
  <%# Existing task content %>

  <%# Add SubTasks section %>
  <div class="mt-4 border-t pt-4">
    <div class="flex items-center justify-between mb-4">
      <h3 class="text-lg font-medium">Subtasks</h3>
      <button data-action="click->task#toggleSubTaskForm" class="inline-flex items-center px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md">
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
        </svg>
        Add Subtask
      </button>
    </div>

    <div id="new_sub_task_form" class="hidden mb-4">
      <%= render "sub_tasks/form", sub_task: task.sub_tasks.build %>
    </div>

    <div id="task_<%= task.id %>_sub_tasks" class="space-y-2">
      <%= render task.sub_tasks %>
    </div>
  </div>
</div>
